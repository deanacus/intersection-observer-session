<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Intersection Observer Demo</title>
    <link rel="stylesheet" href="../style.css">
    <!-- syntax highlighting -->
    <script src="/highlight.pack.js"></script>
    <link rel="stylesheet" href="/a11y-dark.css">
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
    <section class="content">
        <article>
            <h1>Content:</h1>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <img src="../img/img-1.jpg" data-src="https://images.unsplash.com/photo-1520045892732-304bc3ac5d8e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3900&q=80">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <img src="../img/img-2.jpg" data-src="https://images.unsplash.com/photo-1536318431364-5cc762cfc8ec?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3900&q=80">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <img src="../img/img-3.jpg" data-src="https://images.unsplash.com/photo-1504051569746-b952af8e65e7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3900&q=80" alt="">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <img src="../img/img-4.jpg" data-src="https://images.unsplash.com/photo-1559254232-5ef04905902a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1834&q=80">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio modi fugiat delectus maxime quis magni velit molestias, eaque ad quos! Sunt, soluta ullam dignissimos ipsum explicabo aspernatur obcaecati? Distinctio, dolorem.</p>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit architecto, adipisci optio omnis, atque veritatis accusantium aliquid necessitatibus dicta quos quidem quibusdam labore dolore voluptatum id eum, harum consequatur voluptas!</p>
            <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>
            <img src="../img/img-5.jpg" data-src="https://images.unsplash.com/photo-1496886077455-6e206da90837?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3548&q=80">
        </article>
    </section>
    <section class="code">
        <div>
            <h1>Let's write our callback</h1>

            <p>We're now observing our images, so let's write a callback to do thngs with them when it runs</p>

            <pre><code class="javascript">const observer = new IntersectionObserver( ( entries ) => {
    // Because entries is an array, lets map over it and operate on each image individually
    entries.map( entry => {
        // Each entry has a bunch of properties on it, which you can checkout on MDN.
        //
        // We're going to use entry.isIntersecting, which is a boolean of whether
        // or not any part of the element is intersecting and entry.target which is
        // the actual element itself

        if ( entry.isIntersecting ) {
            // Replace the the src attr with the data-src
            let img = entry.target;
            img.src = img.dataset.src;

            // Stop observing the image
            observer.unobserve( img );
        }
    } );
} )

document.querySelectorAll( 'img' ).forEach( image => observer.observe( image ) );</code></pre>

            <p><a href="/page-7/">That's it?</a></p>
        </div>
    </section>

    <script>
        const observer = new IntersectionObserver( ( entries ) => {
            // Because entries is an array, lets map over it and operate on each image individually
            entries.map( entry => {
                // Each entry has a bunch of properties on it, which you can checkout on MDN.
                //
                // We're going to use entry.isIntersecting, which is a boolean of whether
                // or not any part of the element is intersecting and entry.target which is
                // the actual element itself

                if ( entry.isIntersecting ) {
                    // Replace the the src att with the data-src
                    let img = entry.target;
                    img.src = img.dataset.src;

                    // Stop observing the image
                    observer.unobserve( img );
                }
            } );
        } )

        document.querySelectorAll( 'img' ).forEach( image => observer.observe( image ) );
    </script>
</body>
</html>